<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Product Admin - Dashboard HTML Template</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    <!-- https://fonts.google.com/specimen/Roboto -->
    <link rel="stylesheet" href="assets/css/fontawesome.min.css">
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="assets/css/templatemo-style.css">
    <!--
	Product Admin CSS Template
	https://templatemo.com/tm-524-product-admin
	-->
</head>

<body id="reportsPage">
    <div class="" id="home">
        <nav class="navbar navbar-expand-xl">
            <div class="container h-100">
                <a class="navbar-brand" href="/">
                    <h1 class="tm-site-title mb-0">ACCOUNT MANAGEMENT</h1>
                </a>
                <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars tm-nav-icon"></i>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto h-100">
                        <li class="nav-item">
                            <a class="nav-link active" href="/">
                                <i class="fas fa-home"></i>
                                HOME
                                <span class="sr-only">(current)</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/#acounthistory">
                                <i class="fas fa-clipboard-list"></i>
                                입출금내역
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/#reports">
                                <i class="fas fa-tachometer-alt"></i>
                                통계보기
                            </a>
                        </li> 
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-dollar-sign"></i>
                                <span>
                                    포인트 <i class="fas fa-angle-down "></i>
                                </span>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="/point">포인트 사용하기</a>
                                <a class="dropdown-item" href="/point#test">상품권 교환 내역</a>
                                <a class="dropdown-item" href="/point">포인트 내역</a>
                            </div>
                        </li>                        
                        <li class="nav-item">
                            <a class="nav-link" href="/accounts">
                                <i class="far fa-user"></i>
                                개인정보
                            </a>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link d-block" href="/login">
                                Admin, <b>Logout</b>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

        </nav>
        <div class="container">
            <div class="row">
                <div class="col">
                    <!-- <p class="text-white mt-5 mb-5">Welcome back, <b> userData_list.id </b></p> -->
                </div>
            </div>
            <!-- row -->
            <div class="row tm-content-row">
                <!-- acnt insert start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block  tm-block-settings" id="accountHistoryInput">
                    <h2 class="tm-block-title">내역 입력</h2>
                    <form action="/acntHistoryInput" class="tm-signup-form row" method="POST">
                        <div class="form-group col-lg-3">
                            <label for="putAcntDate">일자</label>
                            <input id="putAcntDate" name="putAcntDate" type="date" class="form-control validate" data-large-mode="true"/>
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="putAcntItem">항목</label>
                            <input id="putAcntItem" name="putAcntItem" type="text" class="form-control validate" />
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="putAcntAmount">금액</label>
                            <input id="putAcntAmount" name="putAcntAmount" type="number" class="form-control validate"/>
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="putAcntEtc">비고</label>
                            <input id="putAcntEtc" name="putAcntEtc" type="text" class="form-control validate"/>
                        </div>
                        <div class="col-12">
                            <button id="putAcntSubmit" name="putAcntSubmit" type="submit" class="btn btn-primary btn-block text-uppercase">
                                등록하기
                        </button>
                        </div>
                    </form>
                    </div>
                 </div>
                <!-- acnt insert end -->
                <!-- match req start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block  tm-block-settings" >
                    <h2 class="tm-block-title">매칭 신청</h2>
                    <form action="/matchReq" class="tm-signup-form row" method="POST">
                        <div class="form-group col-lg-4">
                            <label for="putGsDate">시작일자</label>
                            <input id="putGsDate" name="putGsDate" type="date" class="form-control validate" data-large-mode="true"/>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="putGTerm">기간</label>
                            <select class="custom-select" id="putGTerm" name="gTerm">
                                <option value="0">2주</option>
                                <option value="1">3주</option>
                                <option value="2">1개월</option>
                                <option value="3">2개월</option>
                                <option value="4">3개월</option>
                              </select>
                        </div>
                        <div class="col-4">
                            <label for="putGSubmit">　</label>
                            <button id="putGSubmit" name="putGSubmit" type="submit" class="btn btn-primary btn-block text-uppercase">
                                신청하기
                        </button>
                        </div>
                    </form>
                    </div>
                 </div>
                <!-- match req end -->
                <!-- acnt table start -->
                <div class="col-12 tm-block-col"  id="acounthistory">
                    <div class="tm-bg-primary-dark tm-block tm-block-taller tm-block-scroll">
                        <h2 class="tm-block-title">입출금 내역</h2>
                        <div class="col-12 ">
                            <div class="tm-bg-primary-dark col-12">                    
                            <form action="/updatelist" class="tm-signup-form row" method="POST">
                                <div class="form-group col-lg-3.5">
                                    <label for="shAcntDate">일자</label>
                                    <input id="shAcntDate" name="shAcntDate" type="date" class="form-control validate" data-large-mode="true"/>
                                </div>
                                <div class="form-group col-lg-4">
                                    <label for="shAcntItem">항목</label>
                                    <input id="shAcntItem" name="shAcntItem" type="text" class="form-control validate" />
                                </div>
                                <div class="form-group col-lg-4">
                                    <label for="shAcntAmount">금액</label>
                                    <input id="shAcntAmount" name="shAcntAmount" type="number" class="form-control validate"/>
                                </div>
                                <div class="ccol-lg-4">
                                    <label >　</label>
                                    <button id="shAcntSubmit" name="shAcntSubmit" type="submit" class="btn btn-primary btn-block text-uppercase">
                                        검색하기
                                    </button>
                                </div>
                            </form>
                            </div>
                         </div>
                        <div id="place_for_tableplace"></div>
                    </div>
                </div>
                <!-- acnt table end -->
                
                <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6 tm-block-col" id="reports">
                    <div class="tm-bg-primary-dark tm-block tm-block-taller">
                        <h2 class="tm-block-title">내역 통계</h2>
                        <div id="pieChartContainer">
                            <canvas id="pieChart" class="chartjs-render-monitor" width="200" height="200"></canvas>
                        </div>                        
                    </div>
                </div>
                <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block">
                        <h2 class="tm-block-title">항목별 통계</h2>
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
                <!-- 목표 insert start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block tm-block-settings">
                    <!-- <h2 class="tm-site-title mb-0">홍길동 자산관리사</h2> -->
                    <form action="" class="tm-signup-form row tm-block-col">
                        <div class="form-group col-lg-3">
                            <label for="name">목표금액</label>
                            <input id="name" name="name" type="text" class="form-control validate" disabled="true"/>
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="email">잔액(달성율)</label>
                            <input id="email" name="email" type="email" class="form-control validate" disabled="true" />
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="password">종료일자</label>
                            <input id="password" name="password" type="password" class="form-control validate" disabled="true"/>
                        </div>
                        <div class="form-group col-lg-3">
                            <label for="password2">D-day</label>
                            <input id="password2" name="password2" type="password" class="form-control validate" disabled="true"/>
                        </div>
                        <div class="col-6">
                            <button type="submit" class="btn btn-primary btn-block text-uppercase" onclick="location.href='#feedbackWrite'" >
                                피드백 작성하기
                            </button>
                        </div>
                        <div class="col-6">
                            <button type="submit" class="btn btn-primary btn-block text-uppercase">
                                매칭 취소하기
                            </button>
                        </div>
                    </form>
                    <div class="tm-bg-primary-dark tm-block tm-block-taller tm-block-scroll ">
                        <h2 class="tm-block-title">피드백 내역</h2>
                        <div id="place_for_feedbacklist"></div>
                        <div id="place_for_feedbacklistmatch"></div>
                        
                    </div>
                    </div>
                </div>
                <!-- acnt insert end -->
               
                <!-- user(notmatched) table start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block tm-block-taller tm-block-scroll" id="feedbackWrite">
                        <h2 class="tm-block-title"> 피드백 작성</h2>
                        <div class="col-12 ">
                            <div class="tm-bg-primary-dark col-12">                    
                                <form action="" class="tm-signup-form row">
                                    <div class="form-group col-6">
                                        <label for="putFbId"> 유저이름 </label>
                                        <input id="putFbId" name="putFbId" type="text" class="form-control validate" required />
                                    </div>
                                    <div class="form-group col-6">
                                        <label>목표</label>
                                        <input id="putFbGoal" name="putFbGoal" type="text" class="form-control validate" required />
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="putFbText" > 피드백 내용 </label >
                                        <textarea id="putFbText" class="form-control validate" rows="3" required >
                                        </textarea>
                                    </div>                            
                                    
                                    <div class="form-group col-3">
                                        <button type="putFbSubmit" class="btn btn-primary btn-block text-uppercase">
                                            피드백 등록 
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- user(notmatched) table end -->  
                <!-- acnt table start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block tm-block-taller tm-block-scroll" id="noMatchUserList">
                        <h2 class="tm-block-title">유저리스트</h2>   
                        <div class="col-12 ">
                            <div class="tm-bg-primary-dark col-12">                    
                            <form action="/deleteone" class="tm-signup-form row">
                                <div class="form-group col-lg-2.5">
                                    <label for="shNmuGsDate">시작일자</label>
                                    <input id="shNmuGsDateame" name="shNmuGsDate" type="date" class="form-control validate" data-large-mode="true"/>
                                </div>
                                <div class="form-group col-lg-2">
                                    <label for="shNmuGTerm">기간</label>
                                    <input id="shNmuGTerm" name="shNmuGTerm" type="number" class="form-control validate" />
                                </div>
                                <div class="form-group col-lg-3">
                                    <label for="shNmuMinGAmount">최소입금액</label>
                                    <input id="shNmuMinGAmount" name="shNmuMinGAmount" type="number" class="form-control validate"/>
                                </div>
                                <div class="form-group col-lg-3">
                                    <label for="shNmuMaxGAmount">최대입금액</label>
                                    <input id="shNmuMaxGAmount" name="shNmuMaxGAmount" type="number" class="form-control validate"/>
                                </div>
                                <div class="ccol-lg-4">
                                    <label >　</label>
                                    <button type="shNmuSubmit" class="btn btn-primary btn-block text-uppercase">
                                        검색하기
                                </button>
                                </div>
                            </form>
                            </div>
                         </div>                     
                        <div id="place_for_userstableplace"></div>
                    </div>
                </div>
                <!-- acnt table end -->
                <!-- acnt table start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block tm-block-taller tm-block-scroll" id="clientList">
                        <h2 class="tm-block-title">고객리스트</h2>
                        <div class="col-12 ">
                            <div class="tm-bg-primary-dark col-12">                    
                                <form action="/deleteone" class="tm-signup-form row">
                                    <div class="form-group col-lg-2">
                                        <label for="shCtName">이름</label>
                                        <input id="shCtName" name="shCtName" type="text" class="form-control validate" />
                                    </div>
                                    <div class="form-group col-lg-2.5">
                                        <label for="shCtLastFbDate">최종 피드백 일자</label>
                                        <input id="shCtLastFbDate" name="shCtLastFbDate" type="date" class="form-control validate" data-large-mode="true"/>
                                    </div>
                                    <div class="form-group col-lg-3">
                                        <label for="shCtMinGAmount">최소입금액</label>
                                        <input id="shCttMinGAmount" name="shCtMinGAmount" type="number" class="form-control validate"/>
                                    </div>
                                    <div class="form-group col-lg-3">
                                        <label for="CtMaxGAmount">최대입금액</label>
                                        <input id="shCtMaxGAmount" name="shCtMaxGAmount" type="number" class="form-control validate"/>
                                    </div>
                                    <div class="ccol-lg-4">
                                        <label >　</label>
                                        <button type="shCtSubmit" class="btn btn-primary btn-block text-uppercase">
                                            검색하기
                                    </button>
                                    </div>
                                </form>
                            </div>
                         </div>
                        <div id="place_for_clientstableplace"></div>
                    </div>
                </div>
                <!-- acnt table end -->
                <!-- acnt table start -->
                <div class="col-12 tm-block-col">
                    <div class="tm-bg-primary-dark tm-block tm-block-taller tm-block-scroll" id="suggestList">
                        <h2 class="tm-block-title">제안리스트</h2>
                        <div class="col-12 ">
                            <div class="tm-bg-primary-dark col-12">                    
                                <form action="/deleteone" class="tm-signup-form row">
                                    <div class="form-group col-lg-2.5">
                                        <label for="shSuggGsDate">시작일자</label>
                                        <input id="shSuggGsDate" name="shSuggGsDate" type="date" class="form-control validate" data-large-mode="true"/>
                                    </div>
                                    <div class="form-group col-lg-2">
                                        <label for="shSuggGTerm">기간</label>
                                        <input id="shSuggGTerm" name="shSuggGTerm" type="number" class="form-control validate" />
                                    </div>
                                    <div class="form-group col-lg-3">
                                        <label for="shSuggMinGAmount">최소입금액</label>
                                        <input id="shSuggMinGAmount" name="shSuggMinGAmount" type="number" class="form-control validate"/>
                                    </div>
                                    <div class="form-group col-lg-3">
                                        <label for="shSuggMaxGAmount">최대입금액</label>
                                        <input id="shSuggMaxGAmount" name="shSuggMaxGAmount" type="number" class="form-control validate"/>
                                    </div>
                                    <div class="ccol-lg-4">
                                        <label >　</label>
                                        <button type="shSuggSubmit" class="btn btn-primary btn-block text-uppercase">
                                            검색하기
                                    </button>
                                    </div>
                                </form>
                            </div>
                         </div>
                        <div id="place_for_suggeststableplace"></div>
                    </div>
                </div>
                <!-- acnt table end -->
            </div> <!-- first row -->
            </div> 
        </div>    
        </div>
        
        <footer class="tm-footer ">
            <div class="col-12 font-weight-light">
                <p class="text-center text-white mb-0 px-4 small">
                    Copyright &copy; <b>2021</b> All rights reserved. 
                    
                    Design: <a rel="nofollow noopener" href="https://templatemo.com" class="tm-footer-link">Ann</a>
                </p>
            </div>
        </footer>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script src="assets/js/jquery-2.1.0.min.js"></script>
    <!-- https://jquery.com/download/ -->
    <script src="assets/js/moment.min.js"></script>
    <!-- https://momentjs.com/ -->
    <script src="assets/js/Chart.min.js"></script>
    <!-- http://www.chartjs.org/docs/latest/ -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- https://getbootstrap.com/ -->
    <script src="assets/js/tooplate-scripts.js"></script>
    <script>
        Chart.defaults.global.defaultFontColor = 'white';
        let ctxLine,
            ctxBar,
            ctxPie,
            optionsLine,
            optionsBar,
            optionsPie,
            configLine,
            configBar,
            configPie,
            lineChart;
        barChart, pieChart;
        // DOM is ready
        $(function () {
            drawLineChart(); // Line Chart
            drawBarChart(); // Bar Chart
            drawPieChart(); // Pie Chart

            $(window).resize(function () {
                updateLineChart();
                updateBarChart();                
            });
        })
    </script>
    <script>
        $(document).ready(function() {
            let interval;

            function doAjax() {
            var shAcntItem = $('input[name=shAcntItem]').val();
            $.ajax({
                url: "http://localhost:3000/updatelist",
                type: "POST",
                success: function(response) {
                console.log("shAcntItem : ", shAcntItem);
                console.log("doajaxxxx");
                $("#place_for_tableplace").html(response);
                interval = setTimeout(doAjax, 3000);
                },
                error: function(xhr) {
                //Do Something to handle error
                }
            });
            }
            doAjax();
            //

            function checkUserData(){
                if(userData_list){
                alert("here.eee");
                alert(userData_list.id);
                // if (userData_list.macthid){  //매칭된 관리사가 있으면 
                    $("#place_for_feedbacklistmatch").css("display","none"); // 전체리스트 보여주지 않음 공간 차지하지 않음
                // }else{ //매칭된 관리사가 없으면 
                //    $("#place_for_feedbacklist").css("display","none"); // 전담피드백 보여주지 않음 공간 차지하지 않음
                // }
            }else{
                alert("hereee??")
            };
            }
            checkUserData();
    
            $(".shAcntSubmit").on("click", function() {
            console.log("stopppp");
            doAjax();
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            let interval;

                // if (roll == user){
                //     $("#box").css("visibility","hidden"); // 보여주지 않음
                //     $("#box").css("display","none"); // 보여주지 않음 공간 차지하지 않음
                //     $("#box").css("visibility","visibility"); // 값을 보여줌
                // }


            function doAjax() {
            $.ajax({
                url: "http://localhost:3000/feedbacklist",
                type: "get",
                success: function(response) {
                $("#place_for_feedbacklist").html(response);
                interval = setTimeout(doAjax, 3000);
                },
                error: function(xhr) {
                //Do Something to handle error
                }
            });
            }
            doAjax();
            $("#start").on("click", function() {
            console.log("start");
            doAjax();
            });
    
            $("#stop").on("click", function() {
            console.log("stop");
            clearTimeout(interval);
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            let interval;

                // if (roll == user){
                //     $("#box").css("visibility","hidden"); // 보여주지 않음
                //     $("#box").css("display","none"); // 보여주지 않음 공간 차지하지 않음
                //     $("#box").css("visibility","visibility"); // 값을 보여줌
                // }


            function doAjax() {
            $.ajax({
                url: "http://localhost:3000/feedbacklistmatch",
                type: "get",
                success: function(response) {
                $("#place_for_feedbacklistmatch").html(response);
                interval = setTimeout(doAjax, 3000);
                },
                error: function(xhr) {
                //Do Something to handle error
                }
            });
            }
            doAjax();
            $("#start").on("click", function() {
            console.log("start");
            doAjax();
            });
    
            $("#stop").on("click", function() {
            console.log("stop");
            clearTimeout(interval);
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            let interval;
    
            function doAjax() {
            $.ajax({
                url: "http://localhost:3000/userslist",
                type: "get",
                success: function(response) {
                $("#place_for_userstableplace").html(response);
                interval = setTimeout(doAjax, 3000);
                },
                error: function(xhr) {
                //Do Something to handle error
                }
            });
            }
            doAjax();
            $("#start").on("click", function() {
            console.log("start");
            doAjax();
            });
    
            $("#stop").on("click", function() {
            console.log("stop");
            clearTimeout(interval);
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            let interval;
    
            function doAjax() {
            $.ajax({
                url: "http://localhost:3000/clientslist",
                type: "get",
                success: function(response) {
                $("#place_for_clientstableplace").html(response);
                interval = setTimeout(doAjax, 3000);
                },
                error: function(xhr) {
                //Do Something to handle error
                }
            });
            }
            doAjax();
            $("#start").on("click", function() {
            console.log("start");
            doAjax();
            });
    
            $("#stop").on("click", function() {
            console.log("stop");
            clearTimeout(interval);
            });
        });
    </script>
    <script>
        $(document).ready(function() {
            let interval;
    
            function doAjax() {
            $.ajax({
                url: "http://localhost:3000/suggestslist",
                type: "get",
                success: function(response) {
                $("#place_for_suggeststableplace").html(response);
                interval = setTimeout(doAjax, 3000);
                },
                error: function(xhr) {
                //Do Something to handle error
                }
            });
            }
            doAjax();
            $("#start").on("click", function() {
            console.log("start");
            doAjax();
            });
    
            $("#stop").on("click", function() {
            console.log("stop");
            clearTimeout(interval);
            });
        });
    </script>
    <script>
        $(document).ready(function() { 
            
             
        });
    </script>
</body>

</html>